<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>nairobi_cherangany-navigation-map</title>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
 integrity="sha256-sA+qjJ5rnqk3T7nT+n+8K6D/J0v7P49o2cMquE1X+z0=" crossorigin=""/>

<style>
    body, html { margin: 0; padding: 0; height: 100%; }
    #map { height: 100vh; width: 100%; }
    .leaflet-control-layers-toggle { background-image: url(https://unpkg.com/leaflet@1.9.4/dist/images/layers.png); }
</style>
</head>
<body>

<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
 integrity="sha256-o6E0jStY6btq+yf3Z1pTjY2gXn2MmpnX+2BueGJ0fVY=" crossorigin=""></script>

<script>
// Initialize map
var map = L.map('map').setView([0.5, 35.5], 8); // Centered roughly on Cherangany

// Add OpenStreetMap base layer
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

// GeoJSON filenames (all lowercase)
var geojsonFiles = [
    {file: 'cherangany_fblock_wgs84.json', style:{color:'green', weight:2}, name:'Cherangany Forest Block'},
    {file: 'elgeyo_marakwet_county.json', style:{color:'blue', weight:2}, name:'Elgeyo Marakwet Nurseries'},
    {file: 'west_pokot_county.json', style:{color:'orange', weight:2}, name:'West Pokot Nurseries'}
];

// Function to load GeoJSON and add to map
geojsonFiles.forEach(function(item){
    fetch(item.file)
        .then(res => res.json())
        .then(data => {
            L.geoJSON(data, {
                style: item.style,
                onEachFeature: function(feature, layer) {
                    var popupContent = "<strong>" + item.name + "</strong>";
                    if(feature.properties && feature.properties.name){
                        popupContent += "<br>" + feature.properties.name;
                    }
                    layer.bindPopup(popupContent);
                }
            }).addTo(map);
        })
        .catch(err => console.error('Error loading ' + item.file, err));
});

</script>

</body>
</html>
